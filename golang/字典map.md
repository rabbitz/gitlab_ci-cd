> 映射过程第一步就是：把键值转换为哈希值

* 在Go语言的字典中，每一个键值都是由它的哈希值代表的；字典不会独立存储任何键的值，但会独立存储他们的哈希值（一个无符号的整数）
* 一个哈希表会持有一定数量的桶（bucket）哈希桶，因此哈希表会用这个键哈希值的低几位去定位一个哈希桶，然后再去这个哈希桶中，查找这个键，如果键是相等的，然后再用键值本身去对比。***因为不同值的哈希值可能是相同的（哈希碰撞）***

#### 字典的键类型不能是哪些类型？

###### 问提解析

* 不能是函数类型，字典类型和切片类型

  > 规范规定，在键类型的值之间必须可以施加操作符号 == 和 !=，键类型必须支持判等操作，以上类型不支持

* 如果键类型是接口类型，那么键值的实际类型也不能是上述三种类型，否则会引发 **panic**

#### 优先考虑键类型

* **求哈希和判等操作的速度越快，对应的类型就越适合作为键类型**

* 优先选用数值类型和指针类型，通常情况下类型的宽度越小越好。如果非要选择字符串类型的话，最好对键值的长度进行额外的约束。

  

